Calculations and Theory
Distance Calculation
Using the Haversine formula to calculate the distance between two points on the Earth's surface:

ğ‘‘
=
2
ğ‘Ÿ
â‹…
arcsin
â¡
(
sin
â¡
2
(
Î”
ğœ™
2
)
+
cos
â¡
(
ğœ™
1
)
â‹…
cos
â¡
(
ğœ™
2
)
â‹…
sin
â¡
2
(
Î”
ğœ†
2
)
)
d=2râ‹…arcsin( 
sin 
2
 ( 
2
Î”Ï•
â€‹
 )+cos(Ï• 
1
â€‹
 )â‹…cos(Ï• 
2
â€‹
 )â‹…sin 
2
 ( 
2
Î”Î»
â€‹
 )
â€‹
 )

Where:

ğœ™
1
,
ğœ™
2
Ï• 
1
â€‹
 ,Ï• 
2
â€‹
  are the latitudes of the two points in radians.
Î”
ğœ™
Î”Ï• is the difference between the latitudes.
Î”
ğœ†
Î”Î» is the difference between the longitudes.
ğ‘Ÿ
r is the Earth's radius (mean radius = 6,371 km).
Example Calculation
For latitude and longitude coordinates:

Current location: 
ğœ™
1
=
37.7749
Ï• 
1
â€‹
 =37.7749, 
ğœ†
1
=
âˆ’
122.4194
Î» 
1
â€‹
 =âˆ’122.4194
Destination: 
ğœ™
2
=
37.7740
Ï• 
2
â€‹
 =37.7740, 
ğœ†
2
=
âˆ’
122.4190
Î» 
2
â€‹
 =âˆ’122.4190
Convert the latitude and longitude values from degrees to radians:
ğœ™
1
=
0.659
Â radians
,
ğœ™
2
=
0.658
Â radians
Ï• 
1
â€‹
 =0.659Â radians,Ï• 
2
â€‹
 =0.658Â radians
Î”
ğœ™
=
ğœ™
2
âˆ’
ğœ™
1
=
âˆ’
0.001
Â radians
Î”Ï•=Ï• 
2
â€‹
 âˆ’Ï• 
1
â€‹
 =âˆ’0.001Â radians
Î”
ğœ†
=
ğœ†
2
âˆ’
ğœ†
1
=
0.0001
Â radians
Î”Î»=Î» 
2
â€‹
 âˆ’Î» 
1
â€‹
 =0.0001Â radians

Apply the Haversine formula:
ğ‘
=
sin
â¡
2
(
âˆ’
0.001
2
)
+
cos
â¡
(
0.659
)
â‹…
cos
â¡
(
0.658
)
â‹…
sin
â¡
2
(
0.0001
2
)
a=sin 
2
 ( 
2
âˆ’0.001
â€‹
 )+cos(0.659)â‹…cos(0.658)â‹…sin 
2
 ( 
2
0.0001
â€‹
 )
ğ‘
â‰ˆ
0.00000025
aâ‰ˆ0.00000025
ğ‘
=
2
â‹…
\atan
2
(
ğ‘
,
1
âˆ’
ğ‘
)
â‰ˆ
0.001
c=2â‹…\atan2( 
a
â€‹
 , 
1âˆ’a
â€‹
 )â‰ˆ0.001
ğ‘‘
=
6371
â‹…
0.001
â‰ˆ
6.37
Â km
d=6371â‹…0.001â‰ˆ6.37Â km

